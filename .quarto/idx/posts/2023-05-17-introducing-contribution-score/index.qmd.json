{"title":"Introducing Contribution Score","markdown":{"yaml":{"title":"Introducing Contribution Score","date":"2023-05-17","categories":["cricket","data science","r","visualisation"]},"containsRefs":false,"markdown":"\n\nIn cricket, the traditional metric to quantify how good a player is their batting average for their batting ability, and bowling average for their bowling ability. Whilst there are limitations of using this metric in test cricket (for example, if a batter has mostly played against weak bowling attacks or on flat pitches then they will have a higher batting average but not necessarily be better), the match situation does not really dictate the style that a player will play - the majority of the time they want to score as many runs as possible if they are a batter, or take as many wickets for as few runs as possible if they are a bowler. In limited overs cricket, the goal is not neccessarily the same. For example, if you enter the innings as a batter with 8 wickets left and 5 overs remaining, then a score of 5(3) will almost certainly be better for your team than scoring 10(10). This is because in the first scenario your team is likely to score more runs than in the second scenario despite you personally scoring less runs. The goal as a batter is to maximise the number of runs that your team scores, not the number of runs that you score. For bowlers, it is simply the inverse.\n\nThis problem has been realised, and therefore there is a lot of talk about strike rate these days (economy rate for bowlers). This is simply the runs per ball that you score/concede. However, this metric alone is not enough because strike rate is often compensated by a lower average (since you are being more aggressive and therefore not batting at your optimal way) and a high average is still valuable - the cost of losing a wicket varies upon the situation but in some it can be very costly. So the amount you are willing to compensate depends upon the game situation. Also different players have different strengths - some are able to bat at a high average but struggle to maintain a high strike rate (such as Virat Kohli), whereas others bat at a high strike rate but struggle to maintain a high average (such as Tim David).\n\nIdeally we would like a metric that could look at the game situation, and tell you how a player has performed based upon that. Well I present to you *contribution score*. I define the contribution score as follows:\n\n> The contribution score for a batter is the difference in the number of runs that a team scores compared with the expected score if that batter was replaced with an average batter for his position in the competition, given the opposition bowlers and the ground conditions. For a bowler, this is again the difference in the number of runs that a team scores compared with the expected score but this time if the bowler was replaced with an average bowler for the competition, given the opposition batters and the ground conditions.\n\nThe neat thing about this is that if we take the contribution scores for all batters, sum them up and then subtract this value from the innings score then we have what the expected score is for an average team in this competition against this bowling attack at this venue. Lets do an example to make things clearer.\n\nTake the first innings of England v Pakistan at Headingley in 2021, the scorecard can be found [here](https://www.espncricinfo.com/series/pakistan-tour-of-england-2021-1239529/england-vs-pakistan-2nd-t20i-1239541/full-scorecard). England scored 200 in this innings. Pakistan are a strong bowling team, and you would expect an average international team to score 164 against them at Headingley. England therefore scored 36 more runs than expected, and for each batter we can see how much they contributed to this total in the graph below:\n\n![batters contributions plot](images/batters_contributions.png)\n\nJos Buttler's innings was the largest contribution, adding 21.6 runs more than the expected score, with Moeen Ali and Liam Livingstone also providing significant contributions. Dawid Malan's contribution had the most negative impact - a combination of being out in the third over of the innings and only scoring 1 run from the 5 deliveries he faced.\n\nWhat about the bowler's contributions? Since England are a strong batting team, we would expect an average international team to concede 181 runs against them at Headingley. Pakistan therefore conceded 19 more runs less than expected, and for each bowler we can see how much they contributed in the graph below:\n\n![bowlers contributions plot](images/bowlers_contributions.png)\n\nThis graph tells us that the only bowler to perform better than an average bowler was Imad Wasim. Interestingly, Mohammad Hasnain performed better than Shaheen Shah Afridi despite an economy rate of 12.75 compared with an economy rate of 7.30 - this can mostly be credited to Hasnain claiming the wickets of Buttler and Moeen at important times of the innings. We can also see the contribution from Liam Livingstone being run out - it decreased the expected total by 7.5 runs.\n\nThe only metric that I have found similar to this is the Cricviz Match Impact metric. Whilst this does assign a plus or minus score to every ball in the match according to whether the expected total has increased or decreased, which is the same as my contribution score metric does, I'm unsure what their definition of expected is - I have clearly defined mine which is for an average team in the competition at the venue given the opposition, and therefore you have two different expected scores; one for an average batting team against the given bowling line up and another for an average bowling team against the given batting line up.\n\nBefore jumping to conclusions and saying that this metric has solved the problem of evaluating performance in Twenty20 cricket, it is important to first understand its limitations. The primary one being that since this is based upon the expected score, which comes from a statistical model using the data available at [cricsheet.org](https://cricsheet.org/), it has no true value. One model could give a different value for expected score to another, which would then give different contribution scores. This is unlike metrics such as batting average and strike rate, which are fixed and not subjective. Another thing worth noting is that the definition of contribution score doesn't fit as well for the second innings since a team cannot score more than the target set.\n\nContribution scores can go a long way to helping us get a better understanding of how to win a match of Twenty20 cricket. In particular, this can be instrumental in squad selection. Suppose you have the first pick of a draft with every player in the world available. Who do you choose? Do you choose Jos Buttler, the world's best opening batter; Suryakumar Yadav, the best middle order batter; Rashid Khan, the best spin bowler; or Jasprit Bumrah, the best pace bowler? Your answer should put a lot of weight lot upon how much better these are than their alternatives - contribution score allows you to put a single number upon these so you are able to come to a conclusion.","srcMarkdownNoYaml":"\n\nIn cricket, the traditional metric to quantify how good a player is their batting average for their batting ability, and bowling average for their bowling ability. Whilst there are limitations of using this metric in test cricket (for example, if a batter has mostly played against weak bowling attacks or on flat pitches then they will have a higher batting average but not necessarily be better), the match situation does not really dictate the style that a player will play - the majority of the time they want to score as many runs as possible if they are a batter, or take as many wickets for as few runs as possible if they are a bowler. In limited overs cricket, the goal is not neccessarily the same. For example, if you enter the innings as a batter with 8 wickets left and 5 overs remaining, then a score of 5(3) will almost certainly be better for your team than scoring 10(10). This is because in the first scenario your team is likely to score more runs than in the second scenario despite you personally scoring less runs. The goal as a batter is to maximise the number of runs that your team scores, not the number of runs that you score. For bowlers, it is simply the inverse.\n\nThis problem has been realised, and therefore there is a lot of talk about strike rate these days (economy rate for bowlers). This is simply the runs per ball that you score/concede. However, this metric alone is not enough because strike rate is often compensated by a lower average (since you are being more aggressive and therefore not batting at your optimal way) and a high average is still valuable - the cost of losing a wicket varies upon the situation but in some it can be very costly. So the amount you are willing to compensate depends upon the game situation. Also different players have different strengths - some are able to bat at a high average but struggle to maintain a high strike rate (such as Virat Kohli), whereas others bat at a high strike rate but struggle to maintain a high average (such as Tim David).\n\nIdeally we would like a metric that could look at the game situation, and tell you how a player has performed based upon that. Well I present to you *contribution score*. I define the contribution score as follows:\n\n> The contribution score for a batter is the difference in the number of runs that a team scores compared with the expected score if that batter was replaced with an average batter for his position in the competition, given the opposition bowlers and the ground conditions. For a bowler, this is again the difference in the number of runs that a team scores compared with the expected score but this time if the bowler was replaced with an average bowler for the competition, given the opposition batters and the ground conditions.\n\nThe neat thing about this is that if we take the contribution scores for all batters, sum them up and then subtract this value from the innings score then we have what the expected score is for an average team in this competition against this bowling attack at this venue. Lets do an example to make things clearer.\n\nTake the first innings of England v Pakistan at Headingley in 2021, the scorecard can be found [here](https://www.espncricinfo.com/series/pakistan-tour-of-england-2021-1239529/england-vs-pakistan-2nd-t20i-1239541/full-scorecard). England scored 200 in this innings. Pakistan are a strong bowling team, and you would expect an average international team to score 164 against them at Headingley. England therefore scored 36 more runs than expected, and for each batter we can see how much they contributed to this total in the graph below:\n\n![batters contributions plot](images/batters_contributions.png)\n\nJos Buttler's innings was the largest contribution, adding 21.6 runs more than the expected score, with Moeen Ali and Liam Livingstone also providing significant contributions. Dawid Malan's contribution had the most negative impact - a combination of being out in the third over of the innings and only scoring 1 run from the 5 deliveries he faced.\n\nWhat about the bowler's contributions? Since England are a strong batting team, we would expect an average international team to concede 181 runs against them at Headingley. Pakistan therefore conceded 19 more runs less than expected, and for each bowler we can see how much they contributed in the graph below:\n\n![bowlers contributions plot](images/bowlers_contributions.png)\n\nThis graph tells us that the only bowler to perform better than an average bowler was Imad Wasim. Interestingly, Mohammad Hasnain performed better than Shaheen Shah Afridi despite an economy rate of 12.75 compared with an economy rate of 7.30 - this can mostly be credited to Hasnain claiming the wickets of Buttler and Moeen at important times of the innings. We can also see the contribution from Liam Livingstone being run out - it decreased the expected total by 7.5 runs.\n\nThe only metric that I have found similar to this is the Cricviz Match Impact metric. Whilst this does assign a plus or minus score to every ball in the match according to whether the expected total has increased or decreased, which is the same as my contribution score metric does, I'm unsure what their definition of expected is - I have clearly defined mine which is for an average team in the competition at the venue given the opposition, and therefore you have two different expected scores; one for an average batting team against the given bowling line up and another for an average bowling team against the given batting line up.\n\nBefore jumping to conclusions and saying that this metric has solved the problem of evaluating performance in Twenty20 cricket, it is important to first understand its limitations. The primary one being that since this is based upon the expected score, which comes from a statistical model using the data available at [cricsheet.org](https://cricsheet.org/), it has no true value. One model could give a different value for expected score to another, which would then give different contribution scores. This is unlike metrics such as batting average and strike rate, which are fixed and not subjective. Another thing worth noting is that the definition of contribution score doesn't fit as well for the second innings since a team cannot score more than the target set.\n\nContribution scores can go a long way to helping us get a better understanding of how to win a match of Twenty20 cricket. In particular, this can be instrumental in squad selection. Suppose you have the first pick of a draft with every player in the world available. Who do you choose? Do you choose Jos Buttler, the world's best opening batter; Suryakumar Yadav, the best middle order batter; Rashid Khan, the best spin bowler; or Jasprit Bumrah, the best pace bowler? Your answer should put a lot of weight lot upon how much better these are than their alternatives - contribution score allows you to put a single number upon these so you are able to come to a conclusion."},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":true,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"markdown"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["../../styles.css"],"output-file":"index.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.4.554","theme":"cosmo","title-block-banner":true,"title":"Introducing Contribution Score","date":"2023-05-17","categories":["cricket","data science","r","visualisation"]},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}